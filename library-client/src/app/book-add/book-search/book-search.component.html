<form class="search-form">
  <input
    #searchBox
    (keyup.enter)="update(searchBox.value)"
    class="search-text"
    placeholder="Szukaj..."
    autofocus
  />
  <div (click)="update(searchBox.value)" class="search-icon" id="search2">
    &#9906;
  </div>
</form>

<mat-spinner *ngIf="isLoading"></mat-spinner>

<mat-accordion multi="true" *ngIf="books.length > 0 && !isLoading">
  <mat-expansion-panel *ngFor="let book of books">
    <mat-expansion-panel-header>
      {{ book.title }}
    </mat-expansion-panel-header>
    <div class="book-container">
      <div class="book">
        <div class="book-image"><img src="{{ book.image }}" /></div>
        <div class="overlay">
          <div class="availability">Dostępna</div>
          <div class="overlay-text"></div>
        </div>
        <p class="book-title">{{ book.title }}</p>
        <p class="book-author">{{ book.author }}</p>
      </div>
    </div>
    <div class="book-details">
      <p><strong>Autor: </strong>{{ book.author }}</p>
      <p>
        <strong>Data publikacji: </strong>{{ book.publication_date | date }}
      </p>
      <p><strong>Wydawnictwo: </strong>{{ book.publisher }}</p>
      <!-- <p><strong>Book id: </strong>{{ book.id }}</p> -->
      <p><strong>Opis: </strong>{{ book.description }}</p>
    </div>
    <mat-action-row>
      <!-- <button mat-button color="primary" [routerLink]="['../edit', book.id]">EDIT</button> -->
      <button mat-button color="accent" (click)="onSave(book)">Zapisz</button>
    </mat-action-row>
  </mat-expansion-panel>
</mat-accordion>
<p class="info-text mat-body-1">Wyszukaj książki po dowolnym kryterium</p>
<p class="info-text mat-body-1" *ngIf="books.length <= 0 && !isLoading"></p>
<!-- <back-button></back-button> -->
