<div class="container">
  <div class="overflow">
    <div id="sticky">
      <div class="funnelContainer">
        <div class="tag" id="tag1" onclick="showMore()">Filtruj</div>
        <div onclick="showMore()" class="funnel" id="funnel">
          <svg
            width="1em"
            height="1em"
            viewBox="0 0 16 16"
            class="bi bi-funnel"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"
            />
          </svg>
        </div>
      </div>
      <div class="tags" id="tags">
        <!-- Place for your logo -->
        <!-- <div class="mobileLogo">
          <img src="" width="60px" />
        </div> -->
        <input
          class="search-text"
          id="search"
          [(ngModel)]="searchText"
          placeholder="Szukaj..."
        />
        <a
          class="close2"
          id="close2"
          (click)="scroll()"
          onclick="transform()"
          (click)="clear()"
          >&times;</a
        >
      </div>
      <!-- <div class="mobileLogin">
        <svg xmlns="http://www.w3.org/2000/svg" width="2.3em" height="2.3em" fill="currentColor" class="bi bi-person-fill"
          viewBox="0 0 16 16">
          <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
        </svg>
      </div> -->
      <div class="filterMenu" id="filterMenu">
        <!-- Kategorie z bazy danych -->

        <div class="tagF" (click)="onClearCategories()">
          <strong>Wszystko</strong>
        </div>
        <div class="tagF" onclick="checkAvai()">
          <strong>Dostępne</strong>
          <svg
            style="display: none"
            id="avaiChoose"
            xmlns="http://www.w3.org/2000/svg"
            width="26"
            height="26"
            fill="currentColor"
            class="bi bi-check"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"
            />
          </svg>
        </div>
        <div class="tagF" id="catTitle">Kategorie:</div>
        <label *ngFor="let category of categories; let i = index" class="tagF">
          <input
            class="checkboxes"
            type="checkbox"
            value="{{ category.id }}"
            (change)="onFindByCategory(category.id, $event)"
          />

          {{ category.category_name }}
          <!-- <svg
            *ngIf="selected[i]"
            xmlns="http://www.w3.org/2000/svg"
            width="26"
            height="26"
            fill="currentColor"
            class="bi bi-check"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"
            />
          </svg> -->
        </label>
      </div>

      <div class="menuTrue" id="menuTrue" onclick="showMenu()">
        <svg
          width="1.3em"
          height="1.3em"
          viewBox="0 0 16 16"
          id="funTrue"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"
          />
        </svg>
      </div>

      <div class="menuTrueCont" id="menuTrueCont" onclick="idCheck(this.id)">
        <div class="tagTrue" (click)="onClearCategories()">
          <strong>Wszystko</strong>
        </div>
        <div class="tagTrue" onclick="checkAvai()">
          <strong>Dostępne</strong>
          <svg
            style="display: none"
            id="avaiChoose2"
            xmlns="http://www.w3.org/2000/svg"
            width="26"
            height="26"
            fill="currentColor"
            class="bi bi-check"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"
            />
          </svg>
        </div>
        <div class="tagTrue" id="catTitle">Kategorie:</div>
        <label
          *ngFor="let category of categories; let i = index"
          class="tagTrue"
          id="tagTrue"
          style="display: block"
        >
          <input
            #checkboxes
            type="checkbox"
            value="{{ category.id }}"
            (change)="onFindByCategory(category.id, $event)"
          />
          {{ category.category_name }}
          <!-- <svg
            *ngIf="selected[i]"
            xmlns="http://www.w3.org/2000/svg"
            width="26"
            height="26"
            fill="currentColor"
            class="bi bi-check"
            id="checkJS"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"
            />
          </svg> -->
        </label>
      </div>
      <div
        class="closeMenuTrue"
        id="closeMenuTrue"
        onclick="idCheck(this.id)"
      ></div>

      <div class="library-background">
        <!-- <div
          class="search-icon"
          id="X"
          (click)="scroll()"
          onclick="transform()"
          (click)="clear()"
        >
          <a class="close1">&times;</a>
        </div>
        <div
          class="search-icon"
          id="loupe"
          (click)="scroll()"
          onclick="transform()"
        > -->
        <!-- <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="searchToX"
            viewBox="0 0 16 16"
          >
            <path
              d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
            />
          </svg> -->
        <!-- </div> -->
        <div class="book-container">
          <div class="book-container">
            <div
              class="book"
              *ngFor="let book of books | appFilter: searchText"
              [routerLink]="['book', book.id]"
            >
              <div
                class="myBorrows"
                id="myBorrow"
                *ngIf="isAuthenticated && borrowedByMe(book.id)"
              >
                Posiadane
              </div>

              <div class="book-image">
                <img [src]="book.image" alt="image" href="#" />
              </div>

              <div
                class="overlayNOT"
                *ngIf="
                  isAuthenticated &&
                  checkIfBookIsBorrowed(book.id) &&
                  !borrowedByMe(book.id)
                "
              >
                <div class="notAvailable">Niedostępna</div>
              </div>
              <div
                class="overlayYes"
                id="myBorrow"
                *ngIf="isAuthenticated && borrowedByMe(book.id)"
              >
                <div class="borrowedByMe">Posiadane</div>
              </div>
              <p class="book-title">{{ book.title }}</p>
              <p class="book-author">{{ book.author }}</p>
            </div>
          </div>
        </div>

        <button onclick="goTop()" id="topBtn" class="topBtn">
          <div id="cta">
            <span class="arrow primera next"></span>
            <span class="arrow segunda next"></span>
          </div>
        </button>
        <div id="curtain" (click)="UNtoggle()"></div>
        <div id="popup">
          <app-auth *ngIf="userEmail != 'admin'"></app-auth>
          <app-first-admin *ngIf="userEmail == 'admin'"></app-first-admin>
          <a class="close" (click)="UNtoggle()">&times;</a>
        </div>
      </div>
    </div>
  </div>
</div>
